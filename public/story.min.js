function showContent(e){var t=e.split("\n");$("#overlay").show(),$(".frame").show(),$("#typed").typed({strings:[t[0]],typeSpeed:30,loop:!1}),console.log(t[0]),t.shift(),$.cookie("content",t.join("\n"))}$(".npc").click(function(){var e=$(this).attr("data-id");$.cookie("story",1),$("#typed").typed("reset"),$.ajax({data:{account:$.cookie("usrd"),id:e},url:"content",type:"post",success:function(e){$.cookie("storyStage",e.stage),showContent(e.content)},error:function(e){console.log("error : can not get story content")}})}),$("#overlay").click(function(){if(""==$.cookie("content"))$.cookie("content","",{expires:-1}),$.cookie("story","",{expires:-1}),$("#overlay").hide(),$(".frame").hide(),$("#typed").typed("reset"),game();else{$("#typed").typed("reset");var e=$.cookie("content").toString().split("\n");$("#typed").typed({strings:[e[0]],typeSpeed:30,loop:!1}),console.log(e[0]),e.shift(),$.cookie("content",e.join("\n"))}}),setInterval(function(){1!=$.cookie("story")&&$.ajax({type:"POST",url:"/triggerContent",data:{account:$.cookie("usrd"),id:0},success:function(e){0!=e&&($.cookie("story",1),$.cookie("storyStage",e.stage),showContent(e.content))},error:function(){console.log("error : can not get story content")}})},1e3);